<!-- views/profile.ejs -->
<!doctype html>
<html>

<head>
  <title>Feature Page</title>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
  <style>
    body {
      padding-top: 80px;
      word-wrap: break-word;
    }
  </style>
  <!-- CSS -->
  <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="assets/css/form-elements.css" rel="stylesheet" type="text/css">
  <link href="assets/css/style.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

  <!-- Favicon and touch icons -->
  <link rel="shortcut icon" href="assets/ico/favicon.png">
  <link rel="/public/apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
  <link rel="/public/apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
  <link rel="/public/apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
  <link rel="/public/apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
</head>

<body>
  <div class="container">

    <div class="page-header text-center">
         <h1><span class="fa fa-anchor"></span> Feature Page</h1>
      <p> Click on the link provided under the Bugs column to view the list of bugs </p>
      <a href="/logout" class="btn btn-default btn-sm">Logout</a>
    </div>

    <div class="row">

      <!-- LOCAL INFORMATION -->
      <div class="col-sm-6">
        <div class="well">
          <h3><span class="fa fa-user"></span> Local</h3>

          <p>
            <strong>email</strong>:
            <%= user.local.email %><br>
          </p>
        </div>
      </div>
      <!-- Add a new feature option -->
      <div class="col-sm-6">
        <div class="well">
          <h3><span class="fa fa-plus-square" aria-hidden="true"></span> Add a new feature</h3>
          <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#modal-register">ADD</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL -->
  <div class="modal fade" id="modal-register" tabindex="-1" role="dialog" aria-labelledby="modal-register-label" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
        					<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
        				</button>
          <h3 class="modal-title" id="modal-register-label">Add a Feature Now</h3>
          <p>Fill in the form below to get your Feature on Bug Portal:</p>
        </div>
        <div class="modal-body">

          <form role="form" action="/feature" method="post" class="registration-form">
            <div class="form-group">
              <label class="sr-only" for="form-first-name">Feature Name</label>
              <input type="text" name="featureName" placeholder="Feature Name..." class="form-first-name form-control" id="form-feature-name">
            </div>
            <div class="form-group">
              <label class="sr-only" for="form-about-yourself">Feature Description</label>
              <textarea name="featureDescription" placeholder="Feature Description..." class="form-about-yourself form-control" id="form-feature-description"></textarea>
            </div>
            <div class="form-group">
              <label class="sr-only" for="form-last-name">Default Assignee</label>
              <input type="text" name="featureAssignee" placeholder="Default Assignee..." class="form-last-name form-control" id="form-last-name">
            </div>
            <div class="form-group">
              <div id="dynamicInput">
                <br><input type="text" name="myInputs[]" placeholder="StackHolder...">
              </div>
              <input type="button" class="btn btn-default btn-sm" value="Add another StakeHolder" onClick="addInput('dynamicInput');">
            </div>
            <br>
            <button type="submit" class="btn">Register your Feature!</button>
          </form>
        </div>
      </div>
    </div>
  </div>


  <!-- Table starts here -->
  <div class="container">
    <table st-safe-src="rowCollection" st-table="displayCollection" class="table table-striped">
      <thead>
        <tr>
          <th st-sort="featureName">Feature</th>
          <th>Description</th>
          <th>Bugs</th>
          <th st-sort="stackHolders">StakeHolders</th>
          <th st-sort="assignee">Assignee</th>
        </tr>
        <tr>
          <th colspan="1">
            <input st-search="featureName" placeholder="search for feature" class="input-sm form-control" type="search" />
          </th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="row in displayCollection">
          <td>{{row.featureName | uppercase}}</td>
          <td>{{row.description}}</td>
          <td><a ng-href="{{row.bugsList}}">BugsList</a></td>
          <td>{{row.StackeHolders}}</td>
          <td>{{row.assignee}}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="5" class="text-center">
            <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>

  <!-- Javascript -->
  <script>
    var counter = 1;
    var limit = 10;

    function addInput(divName) {
      if (counter == limit) {
        alert("You have reached the limit of adding " + counter + " inputs");
      } else {
        var newdiv = document.createElement('div');
        newdiv.innerHTML = "" + " <br><input type='text' name='myInputs[]'placeholder='StackHolder...'>";
        document.getElementById(divName).appendChild(newdiv);
        counter++;
      }
    }
  </script>

  <!-- MODAL FORM SUBMISSION


  -->

  <script src="assets/js/jquery-1.11.1.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/js/jquery.backstretch.min.js"></script>
  <script src="assets/js/scripts.js"></script>

  <!--[if lt IE 10]>
            <script src="assets/js/placeholder.js"></script>
        <![endif]-->

</body>

</html>
